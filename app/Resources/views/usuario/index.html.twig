{% extends 'index.html.twig' %}

{% block contenido%}
    <div class="modal-dialog text-center">
    {% for flash_message in app.session.flashbag.get('notice') %}
        <div class="flash-notice">
            <div class="alert alert-success"><i class="glyphicon glyphicon-ok"></i> {{ flash_message }}</div>
        </div>
    {% endfor %}
    {% for flash_message in app.session.flashbag.get('error') %}
        <div class="flash-notice">
            <div class="alert alert-danger"><i class="glyphicon glyphicon-remove"></i> {{ flash_message }}</div>
        </div>
    {% endfor %}
    <script type="text/javascript">
        jQuery(document).ready(function() {
            var oTable1 = $('#sample-table-2').dataTable({
                "aoColumns": [
                    {"bSortable": false},
                    null,null, null, null, null, null, null,null,
                    {"bSortable": false}
                ]});
            $('#id-date-range-picker-1').daterangepicker().prev().on(ace.click_event, function() {
                $(this).next().focus();
            });
        });
    </script>
<div class="panel panel-default">
    <div class="panel-heading">
        <h1 class="panel-title" ><i class="glyphicon glyphicon-list" > Usuarios</i></h1>
    </div>
    <div class="panel-body">
        <div style="width: 100%;height: 200px; overflow: auto">
        <table id="sample-table-2" class="table table-striped table-bordered table-hover">
            <thead>
            <tr>
                {#<th class="bg-primary">ID</th>#}
                <th class="bg-primary">Activo</th>
                <th class="bg-primary">Usuario</th>
                <th class="bg-primary">Fecha-registro</th>
                <th class="bg-primary">Acciones</th>
            </tr>
            </thead>
            <tbody>
                    {% for usuario in usuarios %}
                <tr>
                    {#<td>{{ usuario.id }}</a></td>#}
                    <td>{% if usuario.isActive %}Si{% else %}No{% endif %}</td>
                    <td>{{ usuario.usuario }}</td>
                    <td>{% if usuario.fechaRegistro %}{{ usuario.fechaRegistro|date('Y-m-d H:i:s') }}{% endif %}</td>
                    <td><a onclick="return confirm('Esta seguro que deseas borrar el Usuario {{ usuario.usuario }}')" class="glyphicon glyphicon-remove" href="{{ path('usuario_delete', { 'id': usuario.id }) }}" datatype="tooltip" title="Eliminar"></a>-<a class="glyphicon glyphicon-edit" href="{{ path('usuario_edit', { 'id': usuario.id }) }}" title="Editar"></a></td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="row">

        <div class="col-sm-4">
            {% if not is_granted('ROLE_USUARIO' ) %}
                <a class="btn btn-sm btn-default  pull-left" href="{{ path('usuario_new') }}">
                    <img src="{{ asset('assets/dist/img/add_database_26px.png') }}" alt="User Image"> Nuevo
                </a>
            {% endif %}
        </div>
    </div>
        <div class="col-sm-4">
            {#{{ knp_pagination_render(pagination) }}#}
        </div>
        <div class="col-sm-4">
        </div>

        </div>
    </div>
</div>
{% endblock %}
